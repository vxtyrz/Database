/*comentario: criar a estrutura do banco dados  */

create table treinador (
codigo int         not null,
nome   varchar(50) not null,
primary key (codigo));

create table modalidade (
codigo        int         not null,
nome          varchar(50) not null,
codtreinador  int         not null,
primary key (codigo),
foreign key (codtreinador) references treinador (codigo));

create table atleta (
codigo          int          not null,
nome            varchar(50)  not null,
endereco        varchar(50)  not null,
cidade          varchar(50)  not null, 
estado          char(2)      not null,
datanascimento  date         not null,
peso            decimal(5,2) not null,
altura          decimal(4,2) not null,
codmodalidade   int          not null,
primary key (codigo),
foreign key (codmodalidade) references modalidade (codigo));


/* ALTER TABLE (alterar estrutura da tabela) 
add(adicionar) alter(modificar) drop(remover) rename(mudar nome)*/

alter table treinador 
add column telefone numeric(20) not null;

alter table treinador 
alter column telefone type numeric(15);

alter table treinador 
drop column telefone;

alter table treinador 
add column telefone VARCHAR(15) not null;


/* INSERT (inserir informações na tabela) */

insert into treinador (codigo,nome,telefone)
values (1,'Filipe Luiz',123);

insert into treinador (codigo,nome,telefone)
values (2,'Bernardinho',345);

insert into treinador (codigo,nome,telefone)
values (3,'Fabão',789);

insert into modalidade (codigo,nome,codtreinador)
values (1,'Futebol',1);

insert into modalidade (codigo,nome,codtreinador)
values (2,'Volei',2);

insert into modalidade (codigo,nome,codtreinador)
values (3,'Basquete',3);

insert into atleta (codigo,nome,endereco,cidade,estado,
telefone,datanascimento,peso,altura,codmodalidade)
values (1,'Cristiano Ronaldo','Arabia Saudita','Dubai','DB',
123,'01/01/1990',75.00,1.87,1);

insert into atleta (codigo,nome,endereco,cidade,estado,
telefone,datanascimento,peso,altura,codmodalidade)
values (2,'Giba','Rio de Janeiro','Rio de Janerio','RJ',
345,'05/05/1980',80.00,1.95,2);

insert into atleta (codigo,nome,endereco,cidade,estado,
telefone,datanascimento,peso,altura,codmodalidade)
values (3,'Bronny James','Los Angeles','USA','US',
789,'10/10/2000',85.00,1.91,3);

insert into atleta (codigo,nome,endereco,cidade,estado,
telefone,datanascimento,peso,altura,codmodalidade)
values (4,'Neymar Junior','Santos','Santos','SP',
654,'15/05/1990',75.00,1.65,1);

select * from atleta;

----------------------------------------------
/* UPDATE (alterar informações tabela)  */

update atleta set cidade = 'Rio de Janeiro', estado = 'RJ'
where codigo = 4;

update treinador set telefone = 222
where codigo = 1;

--------------------------------------------
/* DELETE (remover informações tabela)  */

insert into treinador (codigo,nome,telefone)
values (4,'teste',111);

select * from treinador;

delete from treinador 
where codigo = 4;

/* AULA 9 - COMANDOS DML*/
insert into treinador (codigo,nome,telefone)
values(4, 'exemplo', 1234);

select * from treinador;

update treinador set telefone = 222
where codigo = 4;

delete from treinador
where codigo = 4;


/* pesquisa informações (SELECT) */
select * from modalidade;
select * from treinador;
select * from atleta;

/* mostrar apenas alguns campos */
select nome from modalidade;
select nome, telefone from atleta;
select nome, peso, altura from atleta;

/* mostrar os campos ordenaos (ORDER BY) */
select * from atleta
order by altura;

/* ordem crecente */
select * from atleta
order by altura;

/* ordem decrescente */
select * from atleta
order by altura desc;

/* mostrar info com filtros (WHERE) */
select * from atleta
where cidade = 'USA';

/* pesquisar pelo código */
select * from atleta
where codigo = 2;

/* pesquisa peso */
select * from atleta
where peso = 75.0;

/* pesquisa WHERE operadores AND e OR */
select * from atleta
where codigo = 1 or codigo = 2;

select * from atleta
where codigo = 1 and cidade = 'Dubai';

/* comandos de conjunto (intervalos) IN e BETWEEN */
/* valores alternados */
select * from atleta
where codigo in (2,4);

/* valores sequenciais */
select * from atleta
where codigo between 1 and 3;

/* pesquisa valores varchar (LIKE) */
select * from atleta
where nome like '%Cris%';